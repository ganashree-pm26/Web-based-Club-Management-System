<!doctype html>
<html>
<head>
  <title>Event Finance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
        min-height: 100vh;
        background: radial-gradient(circle at top left, #4f46e5 0, #0f172a 45%, #020617 100%);
        color: #e5e7eb;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        padding: 24px;
    }
    .glass-card {
        background: rgba(15, 23, 42, 0.9);
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.3);
        box-shadow: 0 18px 45px rgba(15, 23, 42, 0.65);
        color: #e5e7eb;
        padding: 30px;
        margin-bottom: 20px;
    }
    .table {
        color: #e5e7eb !important;
    }
    .table thead th {
        border-bottom: 1px solid rgba(148, 163, 184, 0.3) !important;
        color: #e5e7eb !important;
        background: rgba(30, 41, 59, 0.6) !important;
    }
    .table tbody tr {
        border-bottom: 1px solid rgba(148, 163, 184, 0.2) !important;
    }
    .table tbody td {
        background: rgba(15, 23, 42, 0.5) !important;
        color: #e5e7eb !important;
        border: 1px solid rgba(148, 163, 184, 0.2) !important;
    }
    h1, h2, h3, h4, h5, h6 {
        color: #e5e7eb !important;
    }
    ul {
        color: #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="glass-card">
      <h1 class="mb-4">Finance for Event ID: <%= eventId %></h1>

      <h2 class="mb-3">Sponsors</h2>
      <ul class="mb-4">
        <% sponsors.forEach(s => { %>
          <li><%= s.SponsorName %> — ₹<%= s.Contribution %></li>
        <% }) %>
      </ul>

      <h2 class="mb-3">Budgets (Allocated vs Spent)</h2>
      <table class="table table-bordered mb-4">
        <thead><tr><th>Category</th><th>Allocated</th><th>Spent</th><th>Remaining</th></tr></thead>
        <tbody>
          <% budgets.forEach(b => { %>
            <tr>
              <td><%= b.Category %></td>
              <td>₹<%= b.AllocatedAmount %></td>
              <td>₹<%= b.Spent %></td>
              <td>₹<%= (b.AllocatedAmount - b.Spent).toFixed(2) %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>

      <h2 class="mb-3">Expenditures</h2>
      <table class="table table-bordered">
        <thead><tr><th>ExpenseID</th><th>Category</th><th>Amount</th><th>Date</th><th>Description</th></tr></thead>
        <tbody>
          <% expenditures.forEach(e => { %>
            <tr>
              <td><%= e.ExpenseID %></td>
              <td><%= e.Category %></td>
              <td>₹<%= e.Amount %></td>
              <td><%= e.ExpenseDate ? e.ExpenseDate.toISOString().slice(0,10) : '' %></td>
              <td><%= e.Description %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
